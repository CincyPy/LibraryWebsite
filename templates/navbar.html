{% macro nav_link(endpoint, text, href=none) %}
<li class="{{ 'active' if request.endpoint == endpoint }}">
    {% if href %}
    <a href="{{ href }}">{{ text }}</a></li>
    {% else %}
    <a href="{{ url_for(endpoint ) }}">{{ text }}</a></li>
    {% endif %}
{% endmacro %}

<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">
    {% block navbar %}
        <div class="navbar-header">
            <a class="navbar-brand" href="{{ url_for('main') }}">Librarian Recommended</a>
        </div>
        <ul class="nav navbar-nav navbar-right">
        {%- block navbar_list %}
            {{ nav_link('main', 'Main') }}
        {% if session.logged_in %}
            {% if session.logged_in_name == 'admin' %}
            {{ nav_link('admin', 'Admin') }}
            {% else %}
            {{ nav_link('librarian', 'Librarian') }}
            {% endif %}
        {{ nav_link('edit_profile', 'Edit Profile', url_for('edit_profile', uname=session.logged_in_name)) }}
        <li><a href="{{ url_for('logout') }}">Logout {{ session.logged_in_name }}</a></li>
        {% else %}
        {{ nav_link('login', 'Login') }}
        {% endif %}
        {% endblock -%}
        </ul>
    {% endblock %}
    </div>
</nav>
